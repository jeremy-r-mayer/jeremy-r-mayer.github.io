<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="" xml:lang="">
<head>
  <meta charset="utf-8" />
  <meta name="generator" content="pandoc" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
  <title>Publi.sh</title>
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@exampledev/new.css@1/new.min.css" />
  <!--[if lt IE 9]>
    <script src="//cdnjs.cloudflare.com/ajax/libs/html5shiv/3.7.3/html5shiv-printshiv.min.js"></script>
  <![endif]-->
  <style>
  a {
      text-decoration: none;
  }
  </style>
</head>
<body>
<p>
    <big>
        <b>subcurmudgeon</b>
    </big>
    <br />
    <small>
        <em>something, something, something. blah, blah, blah...</em>
    </small>
</p>

<p>
&#9585;<a href="/">Link 1</a>&nbsp;
&#9585;<a href="/">Link 2</a>&nbsp;
&#9585;<a href="/">Link 3</a>&nbsp;
</p>

<br />
<header id="title-block-header">
<h1 class="title">Publi.sh</h1>
</header>
<p><strong><em><a href="/publi.sh">Publi.sh</a></em></strong> is a <a href="https://www.gnu.org/software/bash/">bash</a> wrapper for <a href="https://pandoc.org">pandoc</a> that can simplify the process of publishing markdown documents on the web.</p>
<h2 id="usage">Usage</h2>
<p><code>./publi.sh [options] &lt;input directory&gt; &lt;output directory&gt;</code></p>
<h2 id="options">Options</h2>
<table>
<colgroup>
<col style="width: 24%" />
<col style="width: 75%" />
</colgroup>
<thead>
<tr class="header">
<th>Flag</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><code>-d</code>, <code>-v</code></td>
<td>display verbose debugging output</td>
</tr>
<tr class="even">
<td><code>-h</code></td>
<td>display help</td>
</tr>
<tr class="odd">
<td><code>-i &lt;glob pattern&gt;</code></td>
<td>rename all input files matching glob pattern to <code>index.html</code></td>
</tr>
<tr class="even">
<td><code>-o</code></td>
<td>confirm overwrite of output directory</td>
</tr>
<tr class="odd">
<td><code>-p &lt;args&gt;</code></td>
<td>pass additional arguments to pandoc</td>
</tr>
</tbody>
</table>
<h2 id="example">Example</h2>
<p>This is the command used by the Github Action that builds this page:</p>
<pre><code>publi.sh \
-i README.md \
-p &quot;--css=https://cdn.jsdelivr.net/npm/@exampledev/new.css@1/new.min.css&quot; \
-v \
. \
.site</code></pre>
<ul>
<li><code>-i README.md</code> renames the output of <code>README.md</code> to <code>index.html</code>, not <code>README.html</code>.</li>
<li><code>-p "--css=https://cdn.jsdelivr.net/npm/@exampledev/new.css@1/new.min.css"</code> sets the <code>--css</code> option in pandoc.</li>
<li><code>-v</code> enables verbose output for troubleshooting purposes.</li>
<li><code>. .site</code> tells publi.sh to use the current directory as input and <code>.site</code> as output.</li>
</ul>
<p>This is the Github Action:</p>
<div class="sourceCode" id="cb2"><pre class="sourceCode yaml"><code class="sourceCode yaml"><a class="sourceLine" id="cb2-1" title="1"><span class="fu">name:</span><span class="at"> Publi.sh</span></a>
<a class="sourceLine" id="cb2-2" title="2"></a>
<a class="sourceLine" id="cb2-3" title="3"><span class="fu">on:</span></a>
<a class="sourceLine" id="cb2-4" title="4">  <span class="fu">push:</span></a>
<a class="sourceLine" id="cb2-5" title="5">    <span class="fu">branches:</span><span class="at"> </span><span class="kw">[</span> main <span class="kw">]</span></a>
<a class="sourceLine" id="cb2-6" title="6">  <span class="fu">workflow_dispatch:</span></a>
<a class="sourceLine" id="cb2-7" title="7"></a>
<a class="sourceLine" id="cb2-8" title="8"><span class="fu">jobs:</span></a>
<a class="sourceLine" id="cb2-9" title="9">  <span class="fu">publish:</span></a>
<a class="sourceLine" id="cb2-10" title="10">    <span class="fu">runs-on:</span><span class="at"> ubuntu-latest</span></a>
<a class="sourceLine" id="cb2-11" title="11">    <span class="fu">steps:</span></a>
<a class="sourceLine" id="cb2-12" title="12">      <span class="kw">-</span> <span class="fu">uses:</span><span class="at"> actions/checkout@v2</span></a>
<a class="sourceLine" id="cb2-13" title="13">      <span class="kw">-</span> <span class="fu">name:</span><span class="at"> Preflight</span></a>
<a class="sourceLine" id="cb2-14" title="14"><span class="fu">        run:</span> <span class="st">|</span></a>
<a class="sourceLine" id="cb2-15" title="15">          sudo apt-get install pandoc</a>
<a class="sourceLine" id="cb2-16" title="16">          mkdir .site</a>
<a class="sourceLine" id="cb2-17" title="17">      <span class="kw">-</span> <span class="fu">name:</span><span class="at"> Publi.sh</span></a>
<a class="sourceLine" id="cb2-18" title="18"><span class="fu">        run:</span> <span class="st">|</span></a>
<a class="sourceLine" id="cb2-19" title="19">          curl -L -s https://raw.githubusercontent.com/jeremy-r-mayer/publi.sh/main/publi.sh | bash -s -- \</a>
<a class="sourceLine" id="cb2-20" title="20">          -i README.md \</a>
<a class="sourceLine" id="cb2-21" title="21">          -p &quot;--css=https://cdn.jsdelivr.net/npm/@exampledev/new.css@1/new.min.css&quot; \</a>
<a class="sourceLine" id="cb2-22" title="22">          -v \</a>
<a class="sourceLine" id="cb2-23" title="23">          . \</a>
<a class="sourceLine" id="cb2-24" title="24">          .site</a>
<a class="sourceLine" id="cb2-25" title="25">      <span class="kw">-</span> <span class="fu">name:</span><span class="at"> Deploy to GitHub Pages</span></a>
<a class="sourceLine" id="cb2-26" title="26">        <span class="fu">if:</span><span class="at"> success()</span></a>
<a class="sourceLine" id="cb2-27" title="27">        <span class="fu">uses:</span><span class="at"> crazy-max/ghaction-github-pages@v2</span></a>
<a class="sourceLine" id="cb2-28" title="28">        <span class="fu">with:</span></a>
<a class="sourceLine" id="cb2-29" title="29">          <span class="fu">build_dir:</span><span class="at"> .site</span></a>
<a class="sourceLine" id="cb2-30" title="30">          <span class="fu">fqdn:</span><span class="at"> www.01001010.net</span></a>
<a class="sourceLine" id="cb2-31" title="31">          <span class="fu">jekyll:</span><span class="at"> </span><span class="ch">false</span></a>
<a class="sourceLine" id="cb2-32" title="32">          <span class="fu">target_branch:</span><span class="at"> gh-pages</span></a>
<a class="sourceLine" id="cb2-33" title="33">        <span class="fu">env:</span></a>
<a class="sourceLine" id="cb2-34" title="34">          <span class="fu">GITHUB_TOKEN:</span><span class="at"> ${{ secrets.GITHUB_TOKEN }}</span></a></code></pre></div>
<br />

<p>
    <small>
        <em>&mdash; <a href="mailto:jeremy@sbcn.me">jeremy@sbcn.me</a></em>
    </small>
</p>
</body>
</html>
